"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[510],{2510:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var o=n(5671),s=n(3144),i=n(136),a=n(2882),r=n(2791),c=n(5987),l=n(1459),d="Profile_content__mO3zk",u="Profile_city_img__8Ect9",f="Profile_style__mz0wx",h={img:"MyPost_img__wPj40",style:"MyPost_style__SQ6qQ",style_Button:"MyPost_style_Button__WFAmx",profile_photo:"MyPost_profile_photo__gTxQ+",boldText:"MyPost_boldText__cz5Cw"},p=n(2934),x=n(184),v=["profileInfo","contact","isOwners","ActivateEditMode"],j=["contactTitle","contactValue"],m=function(e){var t=e.profileInfo,n=e.contact,o=e.isOwners,s=e.ActivateEditMode;(0,c.Z)(e,v);return(0,x.jsxs)("div",{children:[o&&(0,x.jsx)("button",{onClick:s,children:"edit"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{className:h.boldText,children:"FullName:"}),t.fullName]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{className:h.boldText,children:"LookingJob:"}),t.lookingForAJob?"yes":"no"]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{className:h.boldText,children:"lookingForAJobDescription:"}),t.lookingForAJobDescription]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Contact"})," :",Object.keys(n).map((function(e){return(0,x.jsx)(g,{contactTitle:e,contactValue:n[e]},e)}))]})]})},g=function(e){var t=e.contactTitle,n=e.contactValue;(0,c.Z)(e,j);return(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:t}),":",n]})},b=n(6139),P=n(704),_=n(5304),k=n(6725),y=n(3930),M=["initialValues","contact","changeProfileData"],N=["error"],C=function(e){var t=e.initialValues,n=(e.contact,e.changeProfileData);(0,c.Z)(e,M);return(0,x.jsx)("div",{children:(0,x.jsx)(Z,{initialValues:t,onSubmit:function(e){n(e)}})})},Z=(0,P.Z)({form:"profile"})((function(e){var t=e.error,n=(0,c.Z)(e,N),o=n.initialValues.contacts;return(0,x.jsx)("div",{className:h.auth,children:(0,x.jsxs)("form",{onSubmit:n.handleSubmit,children:[(0,x.jsx)("div",{children:(0,x.jsx)("button",{children:"save"})}),t&&(0,x.jsx)("div",{className:y.Z.error,children:t}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"FullName"})," : ",(0,x.jsxs)("span",{children:[" ",(0,x.jsx)(b.Z,{validate:[_.C],placeholder:"fullName",name:"fullName",component:k.Z})]})]}),(0,x.jsx)("div",{children:(0,x.jsx)(b.Z,{placeholder:"lookingForAJob",name:"lookingForAJob",component:"input",type:"checkbox"})}),(0,x.jsx)("div",{children:(0,x.jsx)(b.Z,{validate:[_.C],placeholder:"lookingForAJobDescription",name:"lookingForAJobDescription",component:k.Z})}),(0,x.jsx)("div",{children:(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Contacts"})," :",(0,x.jsx)("div",{children:Object.keys(o).map((function(e){return(0,x.jsxs)("b",{children:[e,": ",(0,x.jsx)(b.Z,{placeholder:e,name:"contacts."+e,component:k.Z},e)]})}))})]})})]})})})),w=["profileInfo","isOwners","savePhoto","contact","saveProfile","EditMode","changeEditMode"],I=function(e){var t=e.profileInfo,n=e.isOwners,o=e.savePhoto,s=e.contact,i=e.saveProfile,a=e.EditMode,r=e.changeEditMode;(0,c.Z)(e,w);return(0,x.jsx)("div",{className:h.style,children:(0,x.jsxs)("div",{children:[t.photos.small?(0,x.jsx)("img",{src:t.photos.small,className:h.profile_photo}):(0,x.jsx)("img",{className:h.img,src:p}),a?(0,x.jsx)(C,{initialValues:t,contact:s,changeProfileData:function(e){i(e)}}):(0,x.jsx)(m,{profileInfo:t,contact:s,isOwners:n,ActivateEditMode:function(){r()}}),(0,x.jsx)("span",{children:n&&(0,x.jsx)("input",{type:"file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0],n=new FormData;n.append("image",t),o(n)}}})})]})})},S=r.memo((function(e){console.log("render");return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:h.style,children:e.pageReducer.post.map((function(e){return(0,x.jsxs)("li",{children:[e.message,e.likeCount]},e.id)}))}),(0,x.jsx)("input",{onChange:function(t){var n=t.currentTarget.value;e.updatePost(n)},value:e.pageReducer.newPostText}),(0,x.jsx)("button",{onClick:function(){e.addPost(e.pageReducer.newPostText)},className:h.style_Button,children:"Add Post"})]})})),E=n(296),T=n(364),D=(0,T.$j)((function(e){return{pageReducer:e.pageReducer}}),(function(e){return{updatePost:function(t){e((0,E.RI)(t))},addPost:function(t){e((0,E.HP)(t))}}}))(S),F=n(885),A=["status","changeStatusCallback"],O=function(e){var t=e.status,n=e.changeStatusCallback,o=((0,c.Z)(e,A),(0,r.useState)(!1)),s=(0,F.Z)(o,2),i=s[0],a=s[1],l=function(){a(!i)};return(0,x.jsx)("div",{className:h.style,children:i?(0,x.jsx)("input",{onBlur:l,value:t,onChange:function(e){n(e.currentTarget.value)},autoFocus:!0}):(0,x.jsxs)("span",{onDoubleClick:l,children:[(0,x.jsx)("span",{className:h.boldText,children:"Status:"}),t||"No Status"]})})},R=["profileInfo","status","changeStatusCallback","isOwners","savePhoto","saveProfile","editMode","changeEditMode"],V=function(e){var t=e.profileInfo,n=e.status,o=e.changeStatusCallback,s=e.isOwners,i=e.savePhoto,a=e.saveProfile,r=e.editMode,h=e.changeEditMode;(0,c.Z)(e,R);return(0,x.jsxs)("div",{className:d,children:[(0,x.jsx)("div",{className:f,children:(0,x.jsx)("img",{className:u,src:l})}),(0,x.jsx)(I,{profileInfo:t,isOwners:s,savePhoto:i,contact:t.contacts,saveProfile:a,EditMode:r,changeEditMode:h}),(0,x.jsx)(O,{status:n,changeStatusCallback:function(e){o(e)}}),(0,x.jsx)(D,{})]})},J=n(9271),z=n(577),B=n(7781),Q=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserID),this.props.setProfileInfo(e),this.props.setStatus(e)}},{key:"componentDidUpdate",value:function(e,t,n){}},{key:"render",value:function(){var e=this;return(0,x.jsx)("div",{children:(0,x.jsx)(V,{profileInfo:this.props.profileInfo,status:this.props.status,changeStatusCallback:function(t){e.props.changeStatus(t)},isOwners:!this.props.match.params.userId,savePhoto:function(t){e.props.savePhoto(t)},saveProfile:function(t){e.props.saveProfile(t)},editMode:this.props.editMode,changeEditMode:this.props.changeEditMode})})}}]),n}(r.Component),U=(0,B.qC)((0,T.$j)((function(e){return{profileInfo:e.pageReducer.profileInfo,status:e.pageReducer.status,authorizedUserID:e.authReducer.data.id,editMode:e.pageReducer.editMode}}),(function(e){return{setProfileInfo:function(t){return e((0,E.r5)(t))},setStatus:function(t){return e((0,E.x4)(t))},changeStatus:function(t){return e((0,E.wl)(t))},savePhoto:function(t){e((0,E.Fn)(t))},saveProfile:function(t){return e((0,E.fb)(t))},changeEditMode:function(){return e((0,E.Nv)(!0))}}})),z.Z,J.EN)(Q)},2934:function(e,t,n){e.exports=n.p+"static/media/Vikings.b5d64c7254844a7ddc4b.png"},1459:function(e,t,n){e.exports=n.p+"static/media/iceland.b991d5cc2c21033561ae.jpg"}}]);
//# sourceMappingURL=510.9340eac5.chunk.js.map